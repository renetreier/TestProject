@page
@model TestProject.Pages.BusesModel
@{
}

<form method="post">
    <div>
        <input type="search" name="vehicle"/>
        <input type="submit" value="Otsi" class="btn btn-primary"/>
        <a asp-page="./Index">Tagasi</a>
    </div>
</form>
<div>
    <div style="width: 50%; float: right; background-color: aqua">
        <table class="table">
            <tr>
                <th>Bussinumber</th>
                <th>Sõidus olevad bussid</th>
            </tr>
            @foreach (string number in Model.DistinctVehicleNumberList)
            {
                if (@Model.VehicleNumbers.Count(f => f == number) > 0)
                {
                    <tr>
                        <th>@number</th>
                        <th>@Model.VehicleNumbers.Count(f => f == number)</th>
                    </tr>
                }
            }

        </table>
    </div>
    <div style="width: 50%; float: left">
        <table class="table">
            <tr>
                <th>Bussinumber</th>
                <th>Koordinaadid</th>
            </tr>
            <tbody>
            @for (int i = 0; i < Model.VehicleNumbers.Count; i++)
            {
                <tr>
                    <th>@Model.VehicleNumbers[i]</th>
                    <th>@Model.VehicleCoordinates[i]</th>
                    <th><a asp-page="./Index">Näita kaardil</a></th>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>
